<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>【朋克智库】比特币详解1.0——区块链的萌芽 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="【朋克智库】比特币详解1.0——区块链的萌芽" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="区块链是堪比互联网的伟大发明。 比特币是区块链世界的第一个杀手级应用。比特币之于区块链，就好比当年邮件之于互联网。 要深入了解区块链，第一站一定是比特币。 不过在那之前，「朋克」先简单介绍下区块链世界的组成部分。 区块链的世界里有各种链（Chain），就好比互联网的世界里有各种网站。链又大致可以分成三种：公链、联盟链、私有链。 公链是所有人都可以加入成为节点和参与记账的链，联盟链是只有联盟内的组织可以参与记账的链，而私有链就是仅有一个组织自己进行记账的链。 公链之于区块链，就好比操作系统对于电脑或手机。只不过，目前区块链的水平大致等同于DOS系统对于电脑的阶段。（但是，如果没有DOS的铺垫，哪来的windows系统；没有塞班的铺垫，又哪来的Android和IOS呢。） 所以第一站，「朋克」先讲一讲区块链世界的开山鼻祖，比特币。 一、比特币的由来 比特币是在2008年，由一个化名为中本聪（SatoshiNakamoto）的人提出的一种数字货币。目前一枚比特币的价格约为10000美元（2018年2月27日），比特币总市值约为1750亿美元。（「朋克」提醒各位小伙伴，比特币的最小单位是0.00000001枚，所以千万不要以为买比特币必须一枚一枚的买）。 二、数字货币怎么理解？ 简单的理解，数字货币就是一种既不需要纸币，也不需要金银铜的货币，所有的货币都是以数字的形式存储在网上。这个乍一听似乎觉得非常难以理解，但是仔细想想，现在有多少人是经常使用纸币的呢？相信大多数小伙伴小额用支付宝微信，大额用银行转账。所以从某种意义上来说，大家的银行存款也都是一串数字而已。 那么比特币（以及区块链中的其它数字货币）与这种银行数字存款最大的区别是什么呢？ 银行系统是由银行作为中心化的机构，有着中心化的账本，进而控制所有的交易及记录。比特币则是一个没有中心化机构的支付系统。那可能大家会想，那这样的话，谁来进行记账呢，谁又能保证交易的正确性呢？ 三、分布式账本 没有中心化的账本咋办？ 这个问题好解决。要是没有一个中心化的机构来记账，那就大家一起记账呗。所有人一起记账，用去中心化的账本代替了中心化的账本，并且由于账本是公开的，并且所有人都可以进行记录和验证，从而保证了账本的可靠性。这也就是分布式记账的理念。 四、早期分布式账本面临的问题 那在这个系统里谁来主导记账（交易的记录和确认）呢？这个问题其实困扰了分布式账本发展非常多年。根据民主的观念，好像大家的第一反应都是，这有什么难的，轮流（或随机）进行记账不就行了吗，要是万一记账有分歧，少数服从多数不就好了吗，反正账本是公开透明的。 乍一听好像是这个道理。但是，互联网有一句名言“隔着电脑，没有人知道你是一条狗”，参与区块链记账的，是电脑（节点）。分布式记账可以实现节点之间平等，却没办法实现人人平等。因为一个人可以制造近乎无穷多个节点。要是按照轮流记账的原则，坏人要是想搞乱账本那可就太简单了。 举个栗子，假设有10个人，其中9个好人，1个坏人。9个好人每个人各有一个节点，而1个坏人偷偷注册了10个节点（因为这是在互联网上，注册节点的成本约等于0），这样总共有19个节点。如果按照最简单的轮流（或随机）进行记账，坏人有超过50%的概率可以获得记账权，如果剩下9个好人节点对记账有疑义了，因为坏人控制了10个节点，超过了总节点的一半，那他就可以强行把有问题的账记录下来并且让别人必须要接受这个账本。 看到这里大家应该都明白了，因为在互联网上创造节点的成本约等于零，所以坏人（攻击者）可以用近乎于零的成本创造大量节点，就可以拥有整个系统的话语权（这也就是俗称的“女巫攻击”）。 如果用轮流（或随机）进行记账的模式，核心的问题就是：创造节点的成本约等于零→赢得大量记账权的成本约等于零→攻击系统的成本约等于零。导致极易产生攻击！！！ 这个问题困扰了分布式账本发展多年... ...直到中本聪横空出世！ 五、工作量证明（Proof of Work，挖矿） 中本聪的思路很简单，就是不能按照轮流（或随机）的模式进行记账，而是每一个节点必须要做一定的工作后才能赢得记账权，这也就是所谓的工作量证明（Proof of Work，简称PoW）。这样，攻击整个系统的成本，就会从基本为零的成本变为非常高的成本（因为要执行一定的工作）。 打个比方，比特币的机制，会不断的发布数学题目（SHA256加密）给所有节点，整个数学题目唯一的解法就是枚举法，每当有节点找到正确的解，就会赢得记账权。同时系统会生成下一个新的题目，当有一个新的节点解出了新的题目后，记账权就从之前的节点转移到了新的节点。 整个过程会不断的重复，每一个新的节点开始记录新的账本，也就是比特币中的区块，账本与账本之间的衔接也就是区块与区块的衔接，也就形成了区块链。（比特币的机制会自动调节解题难度，从而保证区块与区块的出块间隔在10分钟左右，这也就是比特币的出块速度。）整个过程中，主要依靠的是算力，算力越强，就可以在同等时间验算更多的解，从而可以更快的找到正确的解。这样，要攻击这个系统，就需要非常强的算力（一般来说认为需要整个系统51%以上的算力），从而使比特币的体系安全性非常高。 而为了鼓励大家进行记账，一方面赢得记账权节点，可以获得一次性的一定数量的比特币奖励，同时可以获得记账的交易手续费。这也就是俗称的挖矿。 六、个人财产的保护 那么讲完了账本和记账的问题，对个人来说，比特币又是如何保障个人财产的呢？ 中本聪使用了公钥密码学来解决这个问题。公钥密码学的原理可以用这个简单的类比来说明：小朋克一开始有两个不同密码和一个账户（地址），分别称为公共密码（公钥）和私密密码（私钥）。通过私密密码可以推导出公共密码，通过公共密码可以推导出账户地址，但是反过来是无法推导的。 这个公共密码是所有人（节点）都能看到，而私密密码只有小朋克自己知道。每当小朋克要发送交易，必须要用私密密码才能操控账户，发送交易。而其他所有人可以通过公共密码进行交易的验证。 从数学原理上来说，是小朋克通过私密密码把信息加密，然后把公共密码和被加密的信息公布在网络上。所有人都可以通过用公共密码解密信息的方式来确认这笔信息一定是由小朋克发送的，并且由于公共密码不能用来加密信息，没有人可以冒充小明克发送能由公共密码解密的信息。 &nbsp; &nbsp; 在比特币的系统中，私钥是一笔资产所有权的唯一证明。从某种意义上来说，比特币通过密码学原理真正的实现了人民对自己资产的完全控制。 七、Coin的机制 比特币的总量是有上限的，总共是2100万个比特币。每个区块奖励给矿工的比特币数量约每4年减半一次，从最开始的50个比特币到25个比特币到目前的12.5个比特币。后面还会降为6.25个、3.125个...... 预计到2140年，所有的比特币将全部被挖出，出块将没有奖励，矿工的收益全部来自于交易费用。 比特币最终是一种不会通货膨胀的数字货币（当然目前因为仍不断有出块奖励所以有轻微的通货膨胀），并且由于不可避免的会有人遗失秘钥或操作失误导致比特币无法找回，比特币是一种轻微的通货紧缩的货币。 这可能会造成因币值会缓慢上升，导致大家更愿意持币而不是将币花出去的现象，降低比特币的流动性。当然这是2140年才需要考虑的事情，之前一直会保持轻度的通货膨胀。 八、智能合约 智能合约是区块链世界里非常重要的机制。智能合约，通俗的来讲，就是用代码写好合约（合同），从而保证合约一定会按照约定好的条件执行。 这也是颠覆式的进步。通过智能合约可以完美的解决交易双方之间的信任问题。 In Code We Trust！ 代码是最值得信任的合同！ 并且，应用范围不仅仅限于简单的合约。比特币可以实现编程，并且可以运行去中心化的程序（decentralized-apps）。想象一下未来所有的程序都在区块链上运行，从而再也不用担心各种信任问题。 听起来非常美好吧！ 可是，比特币作为最早的可编程的数字货币，在实际应用过程中，一方面由于比特币的智能合约不是图灵完备的（注：图灵完备是指这种计算机语言理论上能写出任何程序），因而只能支持非常基础的操作；另一方面由于比特币缓慢的出块速度，导致合约的执行和交互至少以10分钟为单位，因此智能合约在比特币内应用并不广泛，反而在以太坊上大方光彩（之后的文章里「朋克」会详细介绍）。 九、分叉及解决方案 可能大家会有一个疑问，万一有两个节点接近同时找到了正确的解，那到底是由谁来进行记账呢？ 在这种情况下，两个节点都会进行记账，也就会造成分叉。在这种情况下，其它节点会遵循最长链原则，即哪条链上有新的区块产生，使得它的链更长，则就会在更长的链上继续记账。而被抛弃的区块，一般被称为孤块。 上面说的这种情况虽然会产生分叉，但最终还是会在最长的链上继续走下去，最终只有一条链长期存在。 但是有情况会产生硬分叉，也就是会永久的形成两条链，并且之后的链与链之间，完全独立。 这种情况发生在，当部分节点修改共识规则，这些节点产生的新块将被旧的节点判断为非法，但是这些节点本身会在新的区块上继续发展下去，这样就会形成硬分叉。例如比特币现金（BCH）从比特币（BTC）分叉时，就是将区块上限由1M提升至8M，那么旧的节点就认为BCH节点新生成的区块为非法，同时BCH也不认可BTC节点形成的区块，从而造成了硬分叉。另外，当部分节点与原有的其它节点之间的网络（主动或被动地）完全中断之后，也有可能造成硬分叉。 十、恶意攻击及解决方案 那么比特币在什么时候会存在安全性问题？ &nbsp; &nbsp; &nbsp; &nbsp; 首先需要注意的是， 恶意节点哪怕获得了记账权，也无法发送错误的交易！ 否则，其它节点不会承认它的记账权，而是继续进行计算争夺这个区块的记账权。 因此，恶意节点能做的事情是，通过分叉的机制，否认区块内已经确认的交易。通常意义上，我们认为若能控制超过51%的比特币算力，就获得了这种否认已被区块打包的交易的能力。 假设恶意节点A控制了51%的算力，想否认第N个块中的某笔交易，它就修改它的比特币节点，拒绝承认这个块，重新从N-1个块开始挖矿，并故意不打包这笔交易，强行开始产生分叉。因为A占有的算力比网络剩余的算力更多，A的分叉的出块速度一定会比主链快。比特币的共识是区块高度最高的链为主链，因此A否认别人交易的链将会成为主链。这样，之前已经获得一个区块确认的交易也可以被否定。 不过，这里需要强调的一点是，恶意节点不能只修改链中间的一个区块而不改变后续的区块。举个栗子，如果现在已经有5个区块，高度分别为1，2，3，4，5。如果恶意节点要修改高度为3的区块中的一笔交易，那么它必须连带的把区块3之后的所有区块全部都重新开始计算，而不是仅仅把区块3重新替换。 这也被称为区块链不可篡改的特性。这是因为每一个区块头都有一段数据，是上一个区块头的信息（例如区块高度、产生时间等）加密而成的。只要改动其中的一个区块，后面的所有区块头包含的上一个区块的加密信息就会无法对上。所以，如果要恶意攻击的话，必须将后面的区块全部重新挖出来。 正是基于这种不可篡改的特性，恶意攻击方式并不是不能防范的，主要就是通过更多的节点确认数来进行防范。假设现在的块高度为M，而恶意节点要修改的交易在N，则M-N（M-N的值又被称为交易的确认数）越大，恶意分叉成功的时间也就越长，因为诚实节点在M的高度进行挖矿，而恶意分叉需要从N的高度重新挖，中间需要追赶M-N个高度。这也是为什么很多交易所要6个确认后才会显示余额，因为当6个确认后，占有51%算力的恶意否认交易理论上要超过20天才能成功分叉，这将给整个社区足够的时间采取反制措施。 所以，即使占有网络的绝大数算力也并不意味着就能为所欲为。 十一、小结 区块链就这样伴随着比特币的诞生，而萌芽。 虽然比特币只是区块链技术的应用之一，但是没有比特币就没有区块链的诞生。比特币是跨时代的产品，通过巧妙的设定（分布式账本+工作量证明），形成了安全性非常高的共识机制，属于区块链1.0的代表公链。 这也是人类历史上，第一次实现真正安全的去中心化的交易体系。 但是，不可否认的是，目前比特币的公链系统顶多算是电脑的DOS系统水平，还存在大量的问题和瓶颈。 那么比特币具体有哪些问题，又该如何解决呢？ &nbsp; https://zhuanlan.zhihu.com/p/34075135&nbsp; 阅读更多" />
<meta property="og:description" content="区块链是堪比互联网的伟大发明。 比特币是区块链世界的第一个杀手级应用。比特币之于区块链，就好比当年邮件之于互联网。 要深入了解区块链，第一站一定是比特币。 不过在那之前，「朋克」先简单介绍下区块链世界的组成部分。 区块链的世界里有各种链（Chain），就好比互联网的世界里有各种网站。链又大致可以分成三种：公链、联盟链、私有链。 公链是所有人都可以加入成为节点和参与记账的链，联盟链是只有联盟内的组织可以参与记账的链，而私有链就是仅有一个组织自己进行记账的链。 公链之于区块链，就好比操作系统对于电脑或手机。只不过，目前区块链的水平大致等同于DOS系统对于电脑的阶段。（但是，如果没有DOS的铺垫，哪来的windows系统；没有塞班的铺垫，又哪来的Android和IOS呢。） 所以第一站，「朋克」先讲一讲区块链世界的开山鼻祖，比特币。 一、比特币的由来 比特币是在2008年，由一个化名为中本聪（SatoshiNakamoto）的人提出的一种数字货币。目前一枚比特币的价格约为10000美元（2018年2月27日），比特币总市值约为1750亿美元。（「朋克」提醒各位小伙伴，比特币的最小单位是0.00000001枚，所以千万不要以为买比特币必须一枚一枚的买）。 二、数字货币怎么理解？ 简单的理解，数字货币就是一种既不需要纸币，也不需要金银铜的货币，所有的货币都是以数字的形式存储在网上。这个乍一听似乎觉得非常难以理解，但是仔细想想，现在有多少人是经常使用纸币的呢？相信大多数小伙伴小额用支付宝微信，大额用银行转账。所以从某种意义上来说，大家的银行存款也都是一串数字而已。 那么比特币（以及区块链中的其它数字货币）与这种银行数字存款最大的区别是什么呢？ 银行系统是由银行作为中心化的机构，有着中心化的账本，进而控制所有的交易及记录。比特币则是一个没有中心化机构的支付系统。那可能大家会想，那这样的话，谁来进行记账呢，谁又能保证交易的正确性呢？ 三、分布式账本 没有中心化的账本咋办？ 这个问题好解决。要是没有一个中心化的机构来记账，那就大家一起记账呗。所有人一起记账，用去中心化的账本代替了中心化的账本，并且由于账本是公开的，并且所有人都可以进行记录和验证，从而保证了账本的可靠性。这也就是分布式记账的理念。 四、早期分布式账本面临的问题 那在这个系统里谁来主导记账（交易的记录和确认）呢？这个问题其实困扰了分布式账本发展非常多年。根据民主的观念，好像大家的第一反应都是，这有什么难的，轮流（或随机）进行记账不就行了吗，要是万一记账有分歧，少数服从多数不就好了吗，反正账本是公开透明的。 乍一听好像是这个道理。但是，互联网有一句名言“隔着电脑，没有人知道你是一条狗”，参与区块链记账的，是电脑（节点）。分布式记账可以实现节点之间平等，却没办法实现人人平等。因为一个人可以制造近乎无穷多个节点。要是按照轮流记账的原则，坏人要是想搞乱账本那可就太简单了。 举个栗子，假设有10个人，其中9个好人，1个坏人。9个好人每个人各有一个节点，而1个坏人偷偷注册了10个节点（因为这是在互联网上，注册节点的成本约等于0），这样总共有19个节点。如果按照最简单的轮流（或随机）进行记账，坏人有超过50%的概率可以获得记账权，如果剩下9个好人节点对记账有疑义了，因为坏人控制了10个节点，超过了总节点的一半，那他就可以强行把有问题的账记录下来并且让别人必须要接受这个账本。 看到这里大家应该都明白了，因为在互联网上创造节点的成本约等于零，所以坏人（攻击者）可以用近乎于零的成本创造大量节点，就可以拥有整个系统的话语权（这也就是俗称的“女巫攻击”）。 如果用轮流（或随机）进行记账的模式，核心的问题就是：创造节点的成本约等于零→赢得大量记账权的成本约等于零→攻击系统的成本约等于零。导致极易产生攻击！！！ 这个问题困扰了分布式账本发展多年... ...直到中本聪横空出世！ 五、工作量证明（Proof of Work，挖矿） 中本聪的思路很简单，就是不能按照轮流（或随机）的模式进行记账，而是每一个节点必须要做一定的工作后才能赢得记账权，这也就是所谓的工作量证明（Proof of Work，简称PoW）。这样，攻击整个系统的成本，就会从基本为零的成本变为非常高的成本（因为要执行一定的工作）。 打个比方，比特币的机制，会不断的发布数学题目（SHA256加密）给所有节点，整个数学题目唯一的解法就是枚举法，每当有节点找到正确的解，就会赢得记账权。同时系统会生成下一个新的题目，当有一个新的节点解出了新的题目后，记账权就从之前的节点转移到了新的节点。 整个过程会不断的重复，每一个新的节点开始记录新的账本，也就是比特币中的区块，账本与账本之间的衔接也就是区块与区块的衔接，也就形成了区块链。（比特币的机制会自动调节解题难度，从而保证区块与区块的出块间隔在10分钟左右，这也就是比特币的出块速度。）整个过程中，主要依靠的是算力，算力越强，就可以在同等时间验算更多的解，从而可以更快的找到正确的解。这样，要攻击这个系统，就需要非常强的算力（一般来说认为需要整个系统51%以上的算力），从而使比特币的体系安全性非常高。 而为了鼓励大家进行记账，一方面赢得记账权节点，可以获得一次性的一定数量的比特币奖励，同时可以获得记账的交易手续费。这也就是俗称的挖矿。 六、个人财产的保护 那么讲完了账本和记账的问题，对个人来说，比特币又是如何保障个人财产的呢？ 中本聪使用了公钥密码学来解决这个问题。公钥密码学的原理可以用这个简单的类比来说明：小朋克一开始有两个不同密码和一个账户（地址），分别称为公共密码（公钥）和私密密码（私钥）。通过私密密码可以推导出公共密码，通过公共密码可以推导出账户地址，但是反过来是无法推导的。 这个公共密码是所有人（节点）都能看到，而私密密码只有小朋克自己知道。每当小朋克要发送交易，必须要用私密密码才能操控账户，发送交易。而其他所有人可以通过公共密码进行交易的验证。 从数学原理上来说，是小朋克通过私密密码把信息加密，然后把公共密码和被加密的信息公布在网络上。所有人都可以通过用公共密码解密信息的方式来确认这笔信息一定是由小朋克发送的，并且由于公共密码不能用来加密信息，没有人可以冒充小明克发送能由公共密码解密的信息。 &nbsp; &nbsp; 在比特币的系统中，私钥是一笔资产所有权的唯一证明。从某种意义上来说，比特币通过密码学原理真正的实现了人民对自己资产的完全控制。 七、Coin的机制 比特币的总量是有上限的，总共是2100万个比特币。每个区块奖励给矿工的比特币数量约每4年减半一次，从最开始的50个比特币到25个比特币到目前的12.5个比特币。后面还会降为6.25个、3.125个...... 预计到2140年，所有的比特币将全部被挖出，出块将没有奖励，矿工的收益全部来自于交易费用。 比特币最终是一种不会通货膨胀的数字货币（当然目前因为仍不断有出块奖励所以有轻微的通货膨胀），并且由于不可避免的会有人遗失秘钥或操作失误导致比特币无法找回，比特币是一种轻微的通货紧缩的货币。 这可能会造成因币值会缓慢上升，导致大家更愿意持币而不是将币花出去的现象，降低比特币的流动性。当然这是2140年才需要考虑的事情，之前一直会保持轻度的通货膨胀。 八、智能合约 智能合约是区块链世界里非常重要的机制。智能合约，通俗的来讲，就是用代码写好合约（合同），从而保证合约一定会按照约定好的条件执行。 这也是颠覆式的进步。通过智能合约可以完美的解决交易双方之间的信任问题。 In Code We Trust！ 代码是最值得信任的合同！ 并且，应用范围不仅仅限于简单的合约。比特币可以实现编程，并且可以运行去中心化的程序（decentralized-apps）。想象一下未来所有的程序都在区块链上运行，从而再也不用担心各种信任问题。 听起来非常美好吧！ 可是，比特币作为最早的可编程的数字货币，在实际应用过程中，一方面由于比特币的智能合约不是图灵完备的（注：图灵完备是指这种计算机语言理论上能写出任何程序），因而只能支持非常基础的操作；另一方面由于比特币缓慢的出块速度，导致合约的执行和交互至少以10分钟为单位，因此智能合约在比特币内应用并不广泛，反而在以太坊上大方光彩（之后的文章里「朋克」会详细介绍）。 九、分叉及解决方案 可能大家会有一个疑问，万一有两个节点接近同时找到了正确的解，那到底是由谁来进行记账呢？ 在这种情况下，两个节点都会进行记账，也就会造成分叉。在这种情况下，其它节点会遵循最长链原则，即哪条链上有新的区块产生，使得它的链更长，则就会在更长的链上继续记账。而被抛弃的区块，一般被称为孤块。 上面说的这种情况虽然会产生分叉，但最终还是会在最长的链上继续走下去，最终只有一条链长期存在。 但是有情况会产生硬分叉，也就是会永久的形成两条链，并且之后的链与链之间，完全独立。 这种情况发生在，当部分节点修改共识规则，这些节点产生的新块将被旧的节点判断为非法，但是这些节点本身会在新的区块上继续发展下去，这样就会形成硬分叉。例如比特币现金（BCH）从比特币（BTC）分叉时，就是将区块上限由1M提升至8M，那么旧的节点就认为BCH节点新生成的区块为非法，同时BCH也不认可BTC节点形成的区块，从而造成了硬分叉。另外，当部分节点与原有的其它节点之间的网络（主动或被动地）完全中断之后，也有可能造成硬分叉。 十、恶意攻击及解决方案 那么比特币在什么时候会存在安全性问题？ &nbsp; &nbsp; &nbsp; &nbsp; 首先需要注意的是， 恶意节点哪怕获得了记账权，也无法发送错误的交易！ 否则，其它节点不会承认它的记账权，而是继续进行计算争夺这个区块的记账权。 因此，恶意节点能做的事情是，通过分叉的机制，否认区块内已经确认的交易。通常意义上，我们认为若能控制超过51%的比特币算力，就获得了这种否认已被区块打包的交易的能力。 假设恶意节点A控制了51%的算力，想否认第N个块中的某笔交易，它就修改它的比特币节点，拒绝承认这个块，重新从N-1个块开始挖矿，并故意不打包这笔交易，强行开始产生分叉。因为A占有的算力比网络剩余的算力更多，A的分叉的出块速度一定会比主链快。比特币的共识是区块高度最高的链为主链，因此A否认别人交易的链将会成为主链。这样，之前已经获得一个区块确认的交易也可以被否定。 不过，这里需要强调的一点是，恶意节点不能只修改链中间的一个区块而不改变后续的区块。举个栗子，如果现在已经有5个区块，高度分别为1，2，3，4，5。如果恶意节点要修改高度为3的区块中的一笔交易，那么它必须连带的把区块3之后的所有区块全部都重新开始计算，而不是仅仅把区块3重新替换。 这也被称为区块链不可篡改的特性。这是因为每一个区块头都有一段数据，是上一个区块头的信息（例如区块高度、产生时间等）加密而成的。只要改动其中的一个区块，后面的所有区块头包含的上一个区块的加密信息就会无法对上。所以，如果要恶意攻击的话，必须将后面的区块全部重新挖出来。 正是基于这种不可篡改的特性，恶意攻击方式并不是不能防范的，主要就是通过更多的节点确认数来进行防范。假设现在的块高度为M，而恶意节点要修改的交易在N，则M-N（M-N的值又被称为交易的确认数）越大，恶意分叉成功的时间也就越长，因为诚实节点在M的高度进行挖矿，而恶意分叉需要从N的高度重新挖，中间需要追赶M-N个高度。这也是为什么很多交易所要6个确认后才会显示余额，因为当6个确认后，占有51%算力的恶意否认交易理论上要超过20天才能成功分叉，这将给整个社区足够的时间采取反制措施。 所以，即使占有网络的绝大数算力也并不意味着就能为所欲为。 十一、小结 区块链就这样伴随着比特币的诞生，而萌芽。 虽然比特币只是区块链技术的应用之一，但是没有比特币就没有区块链的诞生。比特币是跨时代的产品，通过巧妙的设定（分布式账本+工作量证明），形成了安全性非常高的共识机制，属于区块链1.0的代表公链。 这也是人类历史上，第一次实现真正安全的去中心化的交易体系。 但是，不可否认的是，目前比特币的公链系统顶多算是电脑的DOS系统水平，还存在大量的问题和瓶颈。 那么比特币具体有哪些问题，又该如何解决呢？ &nbsp; https://zhuanlan.zhihu.com/p/34075135&nbsp; 阅读更多" />
<link rel="canonical" href="http://0.0.0.0:4000/2018/07/30/%E6%9C%8B%E5%85%8B%E6%99%BA%E5%BA%93-%E6%AF%94%E7%89%B9%E5%B8%81%E8%AF%A6%E8%A7%A31.0-%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E8%90%8C%E8%8A%BD.html" />
<meta property="og:url" content="http://0.0.0.0:4000/2018/07/30/%E6%9C%8B%E5%85%8B%E6%99%BA%E5%BA%93-%E6%AF%94%E7%89%B9%E5%B8%81%E8%AF%A6%E8%A7%A31.0-%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E8%90%8C%E8%8A%BD.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-07-30T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"区块链是堪比互联网的伟大发明。 比特币是区块链世界的第一个杀手级应用。比特币之于区块链，就好比当年邮件之于互联网。 要深入了解区块链，第一站一定是比特币。 不过在那之前，「朋克」先简单介绍下区块链世界的组成部分。 区块链的世界里有各种链（Chain），就好比互联网的世界里有各种网站。链又大致可以分成三种：公链、联盟链、私有链。 公链是所有人都可以加入成为节点和参与记账的链，联盟链是只有联盟内的组织可以参与记账的链，而私有链就是仅有一个组织自己进行记账的链。 公链之于区块链，就好比操作系统对于电脑或手机。只不过，目前区块链的水平大致等同于DOS系统对于电脑的阶段。（但是，如果没有DOS的铺垫，哪来的windows系统；没有塞班的铺垫，又哪来的Android和IOS呢。） 所以第一站，「朋克」先讲一讲区块链世界的开山鼻祖，比特币。 一、比特币的由来 比特币是在2008年，由一个化名为中本聪（SatoshiNakamoto）的人提出的一种数字货币。目前一枚比特币的价格约为10000美元（2018年2月27日），比特币总市值约为1750亿美元。（「朋克」提醒各位小伙伴，比特币的最小单位是0.00000001枚，所以千万不要以为买比特币必须一枚一枚的买）。 二、数字货币怎么理解？ 简单的理解，数字货币就是一种既不需要纸币，也不需要金银铜的货币，所有的货币都是以数字的形式存储在网上。这个乍一听似乎觉得非常难以理解，但是仔细想想，现在有多少人是经常使用纸币的呢？相信大多数小伙伴小额用支付宝微信，大额用银行转账。所以从某种意义上来说，大家的银行存款也都是一串数字而已。 那么比特币（以及区块链中的其它数字货币）与这种银行数字存款最大的区别是什么呢？ 银行系统是由银行作为中心化的机构，有着中心化的账本，进而控制所有的交易及记录。比特币则是一个没有中心化机构的支付系统。那可能大家会想，那这样的话，谁来进行记账呢，谁又能保证交易的正确性呢？ 三、分布式账本 没有中心化的账本咋办？ 这个问题好解决。要是没有一个中心化的机构来记账，那就大家一起记账呗。所有人一起记账，用去中心化的账本代替了中心化的账本，并且由于账本是公开的，并且所有人都可以进行记录和验证，从而保证了账本的可靠性。这也就是分布式记账的理念。 四、早期分布式账本面临的问题 那在这个系统里谁来主导记账（交易的记录和确认）呢？这个问题其实困扰了分布式账本发展非常多年。根据民主的观念，好像大家的第一反应都是，这有什么难的，轮流（或随机）进行记账不就行了吗，要是万一记账有分歧，少数服从多数不就好了吗，反正账本是公开透明的。 乍一听好像是这个道理。但是，互联网有一句名言“隔着电脑，没有人知道你是一条狗”，参与区块链记账的，是电脑（节点）。分布式记账可以实现节点之间平等，却没办法实现人人平等。因为一个人可以制造近乎无穷多个节点。要是按照轮流记账的原则，坏人要是想搞乱账本那可就太简单了。 举个栗子，假设有10个人，其中9个好人，1个坏人。9个好人每个人各有一个节点，而1个坏人偷偷注册了10个节点（因为这是在互联网上，注册节点的成本约等于0），这样总共有19个节点。如果按照最简单的轮流（或随机）进行记账，坏人有超过50%的概率可以获得记账权，如果剩下9个好人节点对记账有疑义了，因为坏人控制了10个节点，超过了总节点的一半，那他就可以强行把有问题的账记录下来并且让别人必须要接受这个账本。 看到这里大家应该都明白了，因为在互联网上创造节点的成本约等于零，所以坏人（攻击者）可以用近乎于零的成本创造大量节点，就可以拥有整个系统的话语权（这也就是俗称的“女巫攻击”）。 如果用轮流（或随机）进行记账的模式，核心的问题就是：创造节点的成本约等于零→赢得大量记账权的成本约等于零→攻击系统的成本约等于零。导致极易产生攻击！！！ 这个问题困扰了分布式账本发展多年... ...直到中本聪横空出世！ 五、工作量证明（Proof of Work，挖矿） 中本聪的思路很简单，就是不能按照轮流（或随机）的模式进行记账，而是每一个节点必须要做一定的工作后才能赢得记账权，这也就是所谓的工作量证明（Proof of Work，简称PoW）。这样，攻击整个系统的成本，就会从基本为零的成本变为非常高的成本（因为要执行一定的工作）。 打个比方，比特币的机制，会不断的发布数学题目（SHA256加密）给所有节点，整个数学题目唯一的解法就是枚举法，每当有节点找到正确的解，就会赢得记账权。同时系统会生成下一个新的题目，当有一个新的节点解出了新的题目后，记账权就从之前的节点转移到了新的节点。 整个过程会不断的重复，每一个新的节点开始记录新的账本，也就是比特币中的区块，账本与账本之间的衔接也就是区块与区块的衔接，也就形成了区块链。（比特币的机制会自动调节解题难度，从而保证区块与区块的出块间隔在10分钟左右，这也就是比特币的出块速度。）整个过程中，主要依靠的是算力，算力越强，就可以在同等时间验算更多的解，从而可以更快的找到正确的解。这样，要攻击这个系统，就需要非常强的算力（一般来说认为需要整个系统51%以上的算力），从而使比特币的体系安全性非常高。 而为了鼓励大家进行记账，一方面赢得记账权节点，可以获得一次性的一定数量的比特币奖励，同时可以获得记账的交易手续费。这也就是俗称的挖矿。 六、个人财产的保护 那么讲完了账本和记账的问题，对个人来说，比特币又是如何保障个人财产的呢？ 中本聪使用了公钥密码学来解决这个问题。公钥密码学的原理可以用这个简单的类比来说明：小朋克一开始有两个不同密码和一个账户（地址），分别称为公共密码（公钥）和私密密码（私钥）。通过私密密码可以推导出公共密码，通过公共密码可以推导出账户地址，但是反过来是无法推导的。 这个公共密码是所有人（节点）都能看到，而私密密码只有小朋克自己知道。每当小朋克要发送交易，必须要用私密密码才能操控账户，发送交易。而其他所有人可以通过公共密码进行交易的验证。 从数学原理上来说，是小朋克通过私密密码把信息加密，然后把公共密码和被加密的信息公布在网络上。所有人都可以通过用公共密码解密信息的方式来确认这笔信息一定是由小朋克发送的，并且由于公共密码不能用来加密信息，没有人可以冒充小明克发送能由公共密码解密的信息。 &nbsp; &nbsp; 在比特币的系统中，私钥是一笔资产所有权的唯一证明。从某种意义上来说，比特币通过密码学原理真正的实现了人民对自己资产的完全控制。 七、Coin的机制 比特币的总量是有上限的，总共是2100万个比特币。每个区块奖励给矿工的比特币数量约每4年减半一次，从最开始的50个比特币到25个比特币到目前的12.5个比特币。后面还会降为6.25个、3.125个...... 预计到2140年，所有的比特币将全部被挖出，出块将没有奖励，矿工的收益全部来自于交易费用。 比特币最终是一种不会通货膨胀的数字货币（当然目前因为仍不断有出块奖励所以有轻微的通货膨胀），并且由于不可避免的会有人遗失秘钥或操作失误导致比特币无法找回，比特币是一种轻微的通货紧缩的货币。 这可能会造成因币值会缓慢上升，导致大家更愿意持币而不是将币花出去的现象，降低比特币的流动性。当然这是2140年才需要考虑的事情，之前一直会保持轻度的通货膨胀。 八、智能合约 智能合约是区块链世界里非常重要的机制。智能合约，通俗的来讲，就是用代码写好合约（合同），从而保证合约一定会按照约定好的条件执行。 这也是颠覆式的进步。通过智能合约可以完美的解决交易双方之间的信任问题。 In Code We Trust！ 代码是最值得信任的合同！ 并且，应用范围不仅仅限于简单的合约。比特币可以实现编程，并且可以运行去中心化的程序（decentralized-apps）。想象一下未来所有的程序都在区块链上运行，从而再也不用担心各种信任问题。 听起来非常美好吧！ 可是，比特币作为最早的可编程的数字货币，在实际应用过程中，一方面由于比特币的智能合约不是图灵完备的（注：图灵完备是指这种计算机语言理论上能写出任何程序），因而只能支持非常基础的操作；另一方面由于比特币缓慢的出块速度，导致合约的执行和交互至少以10分钟为单位，因此智能合约在比特币内应用并不广泛，反而在以太坊上大方光彩（之后的文章里「朋克」会详细介绍）。 九、分叉及解决方案 可能大家会有一个疑问，万一有两个节点接近同时找到了正确的解，那到底是由谁来进行记账呢？ 在这种情况下，两个节点都会进行记账，也就会造成分叉。在这种情况下，其它节点会遵循最长链原则，即哪条链上有新的区块产生，使得它的链更长，则就会在更长的链上继续记账。而被抛弃的区块，一般被称为孤块。 上面说的这种情况虽然会产生分叉，但最终还是会在最长的链上继续走下去，最终只有一条链长期存在。 但是有情况会产生硬分叉，也就是会永久的形成两条链，并且之后的链与链之间，完全独立。 这种情况发生在，当部分节点修改共识规则，这些节点产生的新块将被旧的节点判断为非法，但是这些节点本身会在新的区块上继续发展下去，这样就会形成硬分叉。例如比特币现金（BCH）从比特币（BTC）分叉时，就是将区块上限由1M提升至8M，那么旧的节点就认为BCH节点新生成的区块为非法，同时BCH也不认可BTC节点形成的区块，从而造成了硬分叉。另外，当部分节点与原有的其它节点之间的网络（主动或被动地）完全中断之后，也有可能造成硬分叉。 十、恶意攻击及解决方案 那么比特币在什么时候会存在安全性问题？ &nbsp; &nbsp; &nbsp; &nbsp; 首先需要注意的是， 恶意节点哪怕获得了记账权，也无法发送错误的交易！ 否则，其它节点不会承认它的记账权，而是继续进行计算争夺这个区块的记账权。 因此，恶意节点能做的事情是，通过分叉的机制，否认区块内已经确认的交易。通常意义上，我们认为若能控制超过51%的比特币算力，就获得了这种否认已被区块打包的交易的能力。 假设恶意节点A控制了51%的算力，想否认第N个块中的某笔交易，它就修改它的比特币节点，拒绝承认这个块，重新从N-1个块开始挖矿，并故意不打包这笔交易，强行开始产生分叉。因为A占有的算力比网络剩余的算力更多，A的分叉的出块速度一定会比主链快。比特币的共识是区块高度最高的链为主链，因此A否认别人交易的链将会成为主链。这样，之前已经获得一个区块确认的交易也可以被否定。 不过，这里需要强调的一点是，恶意节点不能只修改链中间的一个区块而不改变后续的区块。举个栗子，如果现在已经有5个区块，高度分别为1，2，3，4，5。如果恶意节点要修改高度为3的区块中的一笔交易，那么它必须连带的把区块3之后的所有区块全部都重新开始计算，而不是仅仅把区块3重新替换。 这也被称为区块链不可篡改的特性。这是因为每一个区块头都有一段数据，是上一个区块头的信息（例如区块高度、产生时间等）加密而成的。只要改动其中的一个区块，后面的所有区块头包含的上一个区块的加密信息就会无法对上。所以，如果要恶意攻击的话，必须将后面的区块全部重新挖出来。 正是基于这种不可篡改的特性，恶意攻击方式并不是不能防范的，主要就是通过更多的节点确认数来进行防范。假设现在的块高度为M，而恶意节点要修改的交易在N，则M-N（M-N的值又被称为交易的确认数）越大，恶意分叉成功的时间也就越长，因为诚实节点在M的高度进行挖矿，而恶意分叉需要从N的高度重新挖，中间需要追赶M-N个高度。这也是为什么很多交易所要6个确认后才会显示余额，因为当6个确认后，占有51%算力的恶意否认交易理论上要超过20天才能成功分叉，这将给整个社区足够的时间采取反制措施。 所以，即使占有网络的绝大数算力也并不意味着就能为所欲为。 十一、小结 区块链就这样伴随着比特币的诞生，而萌芽。 虽然比特币只是区块链技术的应用之一，但是没有比特币就没有区块链的诞生。比特币是跨时代的产品，通过巧妙的设定（分布式账本+工作量证明），形成了安全性非常高的共识机制，属于区块链1.0的代表公链。 这也是人类历史上，第一次实现真正安全的去中心化的交易体系。 但是，不可否认的是，目前比特币的公链系统顶多算是电脑的DOS系统水平，还存在大量的问题和瓶颈。 那么比特币具体有哪些问题，又该如何解决呢？ &nbsp; https://zhuanlan.zhihu.com/p/34075135&nbsp; 阅读更多","@type":"BlogPosting","url":"http://0.0.0.0:4000/2018/07/30/%E6%9C%8B%E5%85%8B%E6%99%BA%E5%BA%93-%E6%AF%94%E7%89%B9%E5%B8%81%E8%AF%A6%E8%A7%A31.0-%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E8%90%8C%E8%8A%BD.html","headline":"【朋克智库】比特币详解1.0——区块链的萌芽","dateModified":"2018-07-30T00:00:00+08:00","datePublished":"2018-07-30T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/2018/07/30/%E6%9C%8B%E5%85%8B%E6%99%BA%E5%BA%93-%E6%AF%94%E7%89%B9%E5%B8%81%E8%AF%A6%E8%A7%A31.0-%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E8%90%8C%E8%8A%BD.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>

  </head>
  <body>
    <div class="wrapper">
      <header  class="without-description" >
        <h1>【朋克智库】比特币详解1.0——区块链的萌芽</h1>
        
        
        <ul>
            <li><a href="https://blog.uzzz.org/" target="_blank"><strong>柚子社区<br/>(国际版)</strong></a></li>
            <li><a href="https://blog.uzzz.org.cn/" target="_blank"><strong>柚子社区<br/>(国内版)</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

      <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <p><strong>区块链是堪比互联网的伟大发明。</strong></p> 
  <p><strong>比特币是区块链世界的第一个杀手级应用。</strong>比特币之于区块链，就好比当年邮件之于互联网。</p> 
  <p>要深入了解区块链，第一站一定是比特币。</p> 
  <p>不过在那之前，「朋克」先简单介绍下<strong>区块链世界的组成部分</strong>。</p> 
  <p>区块链的世界里有各种链（Chain），就好比互联网的世界里有各种网站。链又大致可以分成三种：<strong>公链</strong>、<strong>联盟链</strong>、<strong>私有链</strong>。</p> 
  <p>公链是<strong>所有人</strong>都可以加入成为节点和参与记账的链，联盟链是只有<strong>联盟内</strong>的组织可以参与记账的链，而私有链就是仅有<strong>一个组织</strong>自己进行记账的链。</p> 
  <p><strong>公链之于区块链，就好比操作系统对于电脑或手机。</strong>只不过，目前<strong>区块链的水平</strong>大致等同于<strong>DOS系统对于电脑</strong>的阶段。（但是，如果没有DOS的铺垫，哪来的windows系统；没有塞班的铺垫，又哪来的Android和IOS呢。）</p> 
  <p>所以第一站，「朋克」先讲一讲区块链世界的<strong>开山鼻祖</strong>，<strong>比特币</strong>。</p> 
  <p><strong>一、比特币的由来</strong></p> 
  <p>比特币是在2008年，由一个化名为<strong>中本聪</strong>（SatoshiNakamoto）的人提出的一种<strong>数字货币</strong>。目前一枚比特币的价格约为10000美元（2018年2月27日），比特币总市值约为1750亿美元。（「朋克」提醒各位小伙伴，比特币的最小单位是0.00000001枚，所以千万不要以为买比特币必须一枚一枚的买）。</p> 
  <p><strong>二、数字货币怎么理解？</strong></p> 
  <p>简单的理解，数字货币就是一种既不需要纸币，也不需要金银铜的货币，所有的货币都是<strong>以数字的形式存储在网上</strong>。这个乍一听似乎觉得非常难以理解，但是仔细想想，现在有多少人是经常使用纸币的呢？相信大多数小伙伴小额用支付宝微信，大额用银行转账。所以从某种意义上来说，大家的银行存款也都是一串数字而已。</p> 
  <p><img alt="" class="has" src="https://pic2.zhimg.com/v2-f9bd5afd7a388300646699ed8e9481d9_b.jpg"></p> 
  <p>那么比特币（以及区块链中的其它数字货币）与这种银行数字存款最大的区别是什么呢？</p> 
  <p><strong>银行系统</strong>是由银行作为<strong>中心化的机构</strong>，有着<strong>中心化的账本</strong>，进而控制所有的交易及记录。比特币则是一个<strong>没有中心化机构</strong>的<strong>支付系统</strong>。那可能大家会想，那这样的话，谁来进行记账呢，谁又能保证交易的正确性呢？</p> 
  <p><strong>三、分布式账本</strong></p> 
  <p>没有中心化的账本咋办？</p> 
  <p>这个问题好解决。要是没有一个中心化的机构来记账，那就<strong>大家一起记账</strong>呗。所有人一起记账，用<strong>去中心化的账本</strong>代替了中心化的账本，并且由于账本是公开的，并且所有人都可以进行记录和验证，从而保证了账本的可靠性。这也就是<strong>分布式记账</strong>的理念。</p> 
  <p><strong>四、早期分布式账本面临的问题</strong></p> 
  <p>那在这个系统里谁来<strong>主导记账</strong>（交易的记录和确认）呢？这个问题其实困扰了分布式账本发展非常多年。根据民主的观念，好像大家的第一反应都是，这有什么难的，轮流（或随机）进行记账不就行了吗，要是万一记账有分歧，少数服从多数不就好了吗，反正账本是公开透明的。</p> 
  <p>乍一听好像是这个道理。但是，互联网有一句名言“<strong>隔着电脑，没有人知道你是一条狗</strong>”，参与区块链记账的，是电脑（节点）。分布式记账可以<strong>实现节点之间平等</strong>，却<strong>没办法实现人人平等</strong>。因为一个人可以制造近乎无穷多个节点。要是按照轮流记账的原则，坏人要是想搞乱账本那可就太简单了。</p> 
  <p>举个栗子，假设有10个人，其中9个好人，1个坏人。9个好人每个人各有一个节点，而1个坏人偷偷注册了10个节点（因为这是在互联网上，注册节点的成本约等于0），这样总共有19个节点。如果按照最简单的轮流（或随机）进行记账，坏人有超过50%的概率可以获得记账权，如果剩下9个好人节点对记账有疑义了，因为坏人控制了10个节点，超过了总节点的一半，那他就可以强行把有问题的账记录下来并且让别人必须要接受这个账本。</p> 
  <p>看到这里大家应该都明白了，因为在互联网上<strong>创造节点的成本约等于零</strong>，所以坏人（攻击者）可以用<strong>近乎于零的成本创造大量节点</strong>，就可以拥有整个系统的话语权（这也就是俗称的“女巫攻击”）。</p> 
  <p>如果用轮流（或随机）进行记账的模式，核心的问题就是：创造节点的成本约等于零→赢得大量记账权的成本约等于零→<strong>攻击系统的成本约等于零</strong>。导致极易产生攻击！！！</p> 
  <p><img alt="" class="has" src="https://pic2.zhimg.com/v2-57a264a5cc4b64bfd9e6f934f369e5f1_b.jpg"></p> 
  <p>这个问题困扰了分布式账本发展多年...</p> 
  <p><strong>...直到中本聪横空出世！</strong></p> 
  <p><strong>五、工作量证明（Proof of Work，挖矿）</strong></p> 
  <p>中本聪的思路很简单，就是不能按照轮流（或随机）的模式进行记账，而是每一个节点必须<strong>要做一定的工作后才能赢得记账权</strong>，这也就是所谓的<strong>工作量证明</strong>（Proof of Work，简称PoW）。这样，攻击整个系统的成本，就会从基本为零的成本变为非常高的成本（因为要执行一定的工作）。</p> 
  <p>打个比方，比特币的机制，会不断的<strong>发布数学题目</strong>（SHA256加密）给所有节点，整个数学题目唯一的解法就是<strong>枚举法</strong>，每当有节点找到<strong>正确的解</strong>，就会<strong>赢得记账权</strong>。同时系统会生成下一个新的题目，当有一个新的节点解出了新的题目后，记账权就从之前的节点转移到了新的节点。</p> 
  <p><img alt="" class="has" src="https://pic2.zhimg.com/v2-43b4f50950f7e5c2459bbc1f0e06d5aa_b.jpg"></p> 
  <p>整个过程会不断的重复，每一个新的节点开始记录<strong>新的账本</strong>，也就是比特币中的<strong>区块</strong>，账本与账本之间的衔接也就是区块与区块的衔接，也就形成了<strong>区块链</strong>。（比特币的机制会自动调节解题难度，从而保证区块与区块的<strong>出块间隔</strong>在<strong>10分钟</strong>左右，这也就是比特币的<strong>出块速度</strong>。）整个过程中，主要依靠的是算力，<strong>算力越强</strong>，就可以在同等时间验算更多的解，从而可以<strong>更快的找到正确的解</strong>。这样，要攻击这个系统，就需要非常强的算力（一般来说认为需要整个系统51%以上的算力），从而使比特币的体系<strong>安全性非常高</strong>。</p> 
  <p>而为了鼓励大家进行记账，一方面赢得记账权节点，可以获得一次性的一定数量的比特币奖励，同时可以获得记账的交易手续费。这也就是俗称的<strong>挖矿</strong>。</p> 
  <p><strong>六、个人财产的保护</strong></p> 
  <p>那么讲完了账本和记账的问题，对个人来说，比特币又是如何保障个人财产的呢？</p> 
  <p>中本聪使用了<strong>公钥密码学</strong>来解决这个问题。公钥密码学的原理可以用这个简单的类比来说明：小朋克一开始有两个不同密码和一个账户（地址），分别称为公共密码（公钥）和私密密码（私钥）。通过<strong>私密密码可以推导出公共密码</strong>，通过<strong>公共密码可以推导出账户地址</strong>，但是<strong>反过来是无法推导</strong>的。</p> 
  <p>这个公共密码是所有人（节点）都能看到，而私密密码只有小朋克自己知道。每当小朋克要发送交易，必须<strong>要用私密密码</strong>才能操控账户，发送交易。而其他所有人可以通过公共密码进行<strong>交易的验证</strong>。</p> 
  <p>从数学原理上来说，是小朋克通过私密密码把信息加密，然后把公共密码和被加密的信息公布在网络上。所有人都可以通过用公共密码解密信息的方式来确认这笔信息一定是由小朋克发送的，并且由于公共密码不能用来加密信息，没有人可以冒充小明克发送能由公共密码解密的信息。</p> 
  <p><img alt="" class="has" src="https://pic2.zhimg.com/v2-7177863c6149e7dbe8ac20741e10dfa6_b.jpg"></p> 
  <p>&nbsp;</p> 
  <p>&nbsp;</p> 
  <p>在比特币的系统中，私钥是一笔资产所有权的唯一证明。从某种意义上来说，比特币通过密码学原理真正的实现了<strong>人民对自己资产的完全控制</strong>。</p> 
  <p><strong>七、Coin的机制</strong></p> 
  <p>比特币的总量是有<strong>上限</strong>的，总共是<strong>2100万个比特币</strong>。每个区块奖励给矿工的比特币数量约每4年减半一次，从最开始的50个比特币到25个比特币到目前的12.5个比特币。后面还会降为6.25个、3.125个...... 预计到2140年，所有的比特币将全部被挖出，出块将没有奖励，矿工的收益全部来自于交易费用。</p> 
  <p>比特币最终是一种<strong>不会通货膨胀</strong>的数字货币（当然目前因为仍不断有出块奖励所以有轻微的通货膨胀），并且由于不可避免的会有人遗失秘钥或操作失误导致比特币无法找回，比特币是一种轻微的<strong>通货紧缩的货币</strong>。</p> 
  <p>这可能会造成因币值会缓慢上升，导致大家更愿意持币而不是将币花出去的现象，降低比特币的流动性。当然这是2140年才需要考虑的事情，之前一直会保持轻度的通货膨胀。</p> 
  <p><strong>八、智能合约</strong></p> 
  <p><strong>智能合约是区块链世界里非常重要的机制。</strong>智能合约，通俗的来讲，就是用代码写好合约（合同），从而保证合约一定会按照约定好的条件执行。</p> 
  <p>这也是颠覆式的进步。通过智能合约可以完美的解决交易双方之间的信任问题。</p> 
  <p><strong>In Code We Trust！</strong></p> 
  <p>代码是最值得信任的合同！</p> 
  <p>并且，应用范围不仅仅限于简单的合约。比特币可以实现编程，并且可以运行<strong>去中心化的程序（decentralized-apps）</strong>。想象一下未来所有的程序都在区块链上运行，从而再也不用担心各种信任问题。</p> 
  <p><img alt="" class="has" src="https://pic4.zhimg.com/80/v2-ba98089ce31968a31bf67a4625e805e0_hd.jpg"></p> 
  <p>听起来非常美好吧！</p> 
  <p>可是，比特币作为最早的可编程的数字货币，在实际应用过程中，一方面由于比特币的智能合约<strong>不是图灵完备</strong>的（注：图灵完备是指这种计算机语言理论上能写出任何程序），因而只能支持非常基础的操作；另一方面由于比特币缓慢的出块速度，导致合约的执行和交互至少以10分钟为单位，因此智能合约在比特币内应用并不广泛，反而在<strong>以太坊</strong>上大方光彩（之后的文章里「朋克」会详细介绍）。</p> 
  <p><strong>九、分叉及解决方案</strong></p> 
  <p>可能大家会有一个疑问，万一有两个节点接近同时找到了正确的解，那到底是由谁来进行记账呢？</p> 
  <p><img alt="" class="has" src="https://pic3.zhimg.com/v2-44bd89f1adea9a6578840419ebebdc4b_b.jpg"></p> 
  <p>在这种情况下，两个节点都会进行记账，也就会造成分叉。在这种情况下，其它节点会遵循<strong>最长链原则</strong>，即哪条链上有新的区块产生，使得它的链更长，则就会在更长的链上继续记账。而被抛弃的区块，一般被称为孤块。</p> 
  <p>上面说的这种情况虽然会产生分叉，但最终还是会在最长的链上继续走下去，最终只有一条链长期存在。</p> 
  <p>但是有情况会产生<strong>硬分叉</strong>，也就是会永久的形成两条链，并且之后的链与链之间，完全独立。</p> 
  <p>这种情况发生在，当<strong>部分节点修改共识规则</strong>，这些节点产生的新块将被旧的节点判断为非法，但是这些节点本身会在新的区块上继续发展下去，这样就会形成硬分叉。例如比特币现金（BCH）从比特币（BTC）分叉时，就是将区块上限由1M提升至8M，那么旧的节点就认为BCH节点新生成的区块为非法，同时BCH也不认可BTC节点形成的区块，从而造成了硬分叉。另外，当部分节点与原有的其它节点之间的网络（主动或被动地）完全中断之后，也有可能造成硬分叉。</p> 
  <p><strong>十、恶意攻击及解决方案</strong></p> 
  <p>那么比特币在什么时候会存在安全性问题？</p> 
  <p>&nbsp;</p> 
  <p>&nbsp;</p> 
  <p><img alt="" class="has" src="https://pic2.zhimg.com/v2-ae33919ffa0e7c9464b7f2ddf4f82daa_b.jpg"></p> 
  <p>&nbsp;</p> 
  <p>&nbsp;</p> 
  <p>首先需要注意的是，</p> 
  <p><strong>恶意节点哪怕获得了记账权，也无法发送错误的交易！</strong></p> 
  <p>否则，其它节点不会承认它的记账权，而是继续进行计算争夺这个区块的记账权。</p> 
  <p>因此，恶意节点能做的事情是，通过分叉的机制，<strong>否认区块内已经确认的交易</strong>。通常意义上，我们认为若能控制超过51%的比特币算力，就获得了这种否认已被区块打包的交易的能力。</p> 
  <p>假设恶意节点A控制了51%的算力，想否认第N个块中的某笔交易，它就修改它的比特币节点，拒绝承认这个块，重新从N-1个块开始挖矿，并故意不打包这笔交易，<strong>强行开始产生分叉</strong>。因为A占有的算力比网络剩余的算力更多，A的分叉的出块速度一定会比主链快。比特币的共识是区块高度最高的链为主链，因此<strong>A否认别人交易的链将会成为主链</strong>。这样，之前<strong>已经获得一个区块确认的交易也可以被否定。</strong></p> 
  <p>不过，这里需要强调的一点是，恶意节点不能只修改链中间的一个区块而不改变后续的区块。举个栗子，如果现在已经有5个区块，高度分别为1，2，3，4，5。如果恶意节点要修改高度为3的区块中的一笔交易，那么它必须连带的把区块3之后的所有区块全部都重新开始计算，而不是仅仅把区块3重新替换。</p> 
  <p>这也被称为区块链<strong>不可篡改</strong>的特性。这是因为每一个区块头都有一段数据，是上一个区块头的信息（例如区块高度、产生时间等）加密而成的。只要改动其中的一个区块，后面的所有区块头包含的上一个区块的加密信息就会无法对上。所以，如果要恶意攻击的话，必须将后面的区块全部重新挖出来。</p> 
  <p><img alt="" class="has" src="https://pic4.zhimg.com/v2-ebed4fc6e5f2e5d398369ababd1b7caf_b.jpg"></p> 
  <p>正是基于这种不可篡改的特性，恶意攻击方式并不是不能防范的，主要就是<strong>通过更多的节点确认数来进行防范</strong>。假设现在的块高度为M，而恶意节点要修改的交易在N，则M-N（M-N的值又被称为交易的确认数）越大，恶意分叉成功的时间也就越长，因为诚实节点在M的高度进行挖矿，而恶意分叉需要从N的高度重新挖，中间需要追赶M-N个高度。这也是为什么很多交易所要6个确认后才会显示余额，因为当6个确认后，占有51%算力的恶意否认交易理论上要<strong>超过20天</strong>才能成功分叉，这将给整个社区足够的时间采取反制措施。</p> 
  <p>所以，<strong>即使占有网络的绝大数算力也并不意味着就能为所欲为。</strong></p> 
  <p><img alt="" class="has" src="https://pic1.zhimg.com/v2-c130992355078311032aee7ab981d993_b.jpg"></p> 
  <p>十一、小结</p> 
  <p>区块链就这样伴随着比特币的诞生，而萌芽。</p> 
  <p>虽然比特币只是区块链技术的应用之一，但是没有比特币就没有区块链的诞生。比特币是跨时代的产品，通过巧妙的设定（分布式账本+工作量证明），形成了安全性非常高的共识机制，属于区块链1.0的代表公链。</p> 
  <p>这也是人类历史上，第一次实现<strong>真正安全的去中心化的交易体系</strong>。</p> 
  <p>但是，不可否认的是，目前比特币的公链系统顶多算是电脑的DOS系统水平，还存在大量的问题和瓶颈。</p> 
  <p>那么比特币具体有哪些问题，又该如何解决呢？</p> 
  <p>&nbsp;</p> 
  <p><a href="https://zhuanlan.zhihu.com/p/34075135" rel="nofollow">https://zhuanlan.zhihu.com/p/34075135</a>&nbsp;</p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/omnispace/article/details/81278486,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/omnispace/article/details/81278486,&quot;}">阅读更多</a> 
</div>
      <br />
        <a href="https://blog.uzzz.org/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://blog.uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://blog.uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    
    <script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
    </script>

  </body>
</html>
