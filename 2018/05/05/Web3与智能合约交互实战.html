<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Web3与智能合约交互实战 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Web3与智能合约交互实战" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="【汇新云】为大家定期更新文章，【汇新云】IT人的产业链平台 Web3与智能合约交互实战 写在前面 在最初学习以太坊的时候，很多人都是自己创建以太坊节点后，使用geth与之交互。这种使用命令行交互的方法虽然让很多程序员感到兴奋（黑客帝国的既视感？），但不可能指望普通用户通过命令行使用Dapp。因此，我们需要一种友好的方式（比如一个web页面）来与智能合约交互，于是问题的答案就是web3.js。 Web3.js Web3.js是以太坊官方的Javascript API，可以帮助智能合约开发者使用HTTP或者IPC与本地的或者远程的以太坊节点交互。实际上就是一个库的集合，主要包括下面几个库： web3-eth用来与以太坊区块链和智能合约交互 web3-shh用来控制whisper协议与p2p通信以及广播 web3-bzz用来与swarm协议交互 web3-utils包含了一些Dapp开发有用的功能 Web3与geth通信使用的是&nbsp;JSON-RPC&nbsp;，这是一种轻量级的RPC（Remote Procedure Call）协议，整个通信的模型可以抽象为下图。 搭建测试链 在开发初期，我们并没有必要使用真实的公链，为了开发效率，一般选择在本地搭建测试链。在本文我们选择的Ganache（在此之前使用的是testrpc，Ganache属于它的升级版），一个图形化测试软件（也有命令行版本），可以一键在本地搭建以太坊区块链测试环境，并且将区块链的状态通过图形界面显示出来，Ganache的运行界面如下图所示。 从图中可以看到Ganache会默认创建10个账户，监听地址是http://127.0.0.1:7545，可以实时看到Current Block、Gas Price、Gas Limit等信息。 创建智能合约 目前以太坊官方全力支持的智能合约开发环境是Remix IDE，我们在合约编辑页面编写如下代码： 代码很简单，就是简单的给name和age变量赋值与读取，接下来切换到 run 的 tab 下，将Environment切换成Web3 Provider，并输入我们的测试链的地址http://127.0.0.1:7545，这里对这三个选项做一简单说明： Javascript VM：简单的Javascript虚拟机环境，纯粹练习智能合约编写的时候可以选择 Injected Web3：连接到嵌入到页面的Web3，比如连接到MetaMask Web3 Provider：连接到自定义的节点，如私有的测试网络。 如果连接成功，那么在下面的Account的选项会默认选择 Ganache 创建的第一个账户地址。接下来我们点击Create就会将我们的智能合约部署到我们的测试网中。接下来 Remix 的页面不要关闭，在后面编写前端代码时还要用到合约的地址以及ABI信息。 安装Web3 在这之前，先在终端创建我们的项目： 接下来使用 node.js 的包管理工具 npm 初始化项目，创建package.json&nbsp;文件，其中保存了项目需要的相关依赖环境。 一路按回车直到项目创建完成。最后，运行下面命令安装web.js： 注意：&nbsp;在实际安装过程中我发现web3在安装完成后并没有&nbsp;/node_modules/web3/dist/we3.min.js&nbsp;文件，这个问题在&nbsp;issue#1041中有体现，但官方好像一直没解决。不过可以在这里下载所需的文件，解压后将dist文件夹的内容拷贝到&nbsp;/node_modules/web3路径下。 创建 UI 在项目目录下创建index.html，在这里我们将创建基础的 UI，功能包括name和age的输入框，以及一个按钮，这些将通过 jQuery 实现： 接下来需要编写main.css文件设定基本的样式： ##使用Web3与智能合约交互 UI 创建好之后，在标签中间编写web.js的代码与智能合约交互。首先创建web3实例，并与我们的测试环境连接： 这段代码是web3.js Github提供的样例，意思是如果web3已经被定义，那么就可以直接当作我们的 provider 使用。如果没有定义，则我们手动指定 provider。 这里可能会存在疑问：为什么 web3 会被事先定义呢？实际上，如果你使用类似&nbsp;MetaMask（一个 Chrome 上的插件，迷你型以太坊钱包）这样的软件，provider 就会被自动植入。 在上面代码的基础上，接下来设置默认的以太坊账户： 在上文中我们使用 Ganache 已经创建了 10 个账户了，这里我们选择第一个账户当作默认账户。 接下来需要让我们的web3知道我们的合约是什么样的，这里需要用到合约的&nbsp;ABI（Application Binary Interface）。ABI可以使我们调用合约的函数，并且从合约中获取数据。 在上文中我们已经在 Remix 中创建了我们的合约，这时重新回到 Remix，在 Compile 的 tab 下我们点击Details&nbsp;出现的页面中我们可以拷贝合约的ABI，如下图所示。 将其复制到代码中： 接下来转到 run 的tab，拷贝合约的地址，将其复制到下面的代码中： 完成这些我们就可以调用合约中的函数了，下面我们使用 jQuery 与我们的合约进行交互： 以上的代码就简单地实现了对合约中两个函数的调用，分别读取和显示name和age变量。 到此我们就完成了全部的代码，完整代码可以在&nbsp;https://github.com/gitferry/InfoContract&nbsp;中找到。在浏览器中打开index.html测试效果如下图（输入名字和年龄后刷新）。 本文的作者是盖盖，他的微信公众号: chainlab 参考文献 Interacting with a Smart Contract through Web3.js (Tutorial)) 学好区块链，拥抱新未来： 区块链产品经理（点击入驻），和圈内人士混个脸熟。 阅读更多" />
<meta property="og:description" content="【汇新云】为大家定期更新文章，【汇新云】IT人的产业链平台 Web3与智能合约交互实战 写在前面 在最初学习以太坊的时候，很多人都是自己创建以太坊节点后，使用geth与之交互。这种使用命令行交互的方法虽然让很多程序员感到兴奋（黑客帝国的既视感？），但不可能指望普通用户通过命令行使用Dapp。因此，我们需要一种友好的方式（比如一个web页面）来与智能合约交互，于是问题的答案就是web3.js。 Web3.js Web3.js是以太坊官方的Javascript API，可以帮助智能合约开发者使用HTTP或者IPC与本地的或者远程的以太坊节点交互。实际上就是一个库的集合，主要包括下面几个库： web3-eth用来与以太坊区块链和智能合约交互 web3-shh用来控制whisper协议与p2p通信以及广播 web3-bzz用来与swarm协议交互 web3-utils包含了一些Dapp开发有用的功能 Web3与geth通信使用的是&nbsp;JSON-RPC&nbsp;，这是一种轻量级的RPC（Remote Procedure Call）协议，整个通信的模型可以抽象为下图。 搭建测试链 在开发初期，我们并没有必要使用真实的公链，为了开发效率，一般选择在本地搭建测试链。在本文我们选择的Ganache（在此之前使用的是testrpc，Ganache属于它的升级版），一个图形化测试软件（也有命令行版本），可以一键在本地搭建以太坊区块链测试环境，并且将区块链的状态通过图形界面显示出来，Ganache的运行界面如下图所示。 从图中可以看到Ganache会默认创建10个账户，监听地址是http://127.0.0.1:7545，可以实时看到Current Block、Gas Price、Gas Limit等信息。 创建智能合约 目前以太坊官方全力支持的智能合约开发环境是Remix IDE，我们在合约编辑页面编写如下代码： 代码很简单，就是简单的给name和age变量赋值与读取，接下来切换到 run 的 tab 下，将Environment切换成Web3 Provider，并输入我们的测试链的地址http://127.0.0.1:7545，这里对这三个选项做一简单说明： Javascript VM：简单的Javascript虚拟机环境，纯粹练习智能合约编写的时候可以选择 Injected Web3：连接到嵌入到页面的Web3，比如连接到MetaMask Web3 Provider：连接到自定义的节点，如私有的测试网络。 如果连接成功，那么在下面的Account的选项会默认选择 Ganache 创建的第一个账户地址。接下来我们点击Create就会将我们的智能合约部署到我们的测试网中。接下来 Remix 的页面不要关闭，在后面编写前端代码时还要用到合约的地址以及ABI信息。 安装Web3 在这之前，先在终端创建我们的项目： 接下来使用 node.js 的包管理工具 npm 初始化项目，创建package.json&nbsp;文件，其中保存了项目需要的相关依赖环境。 一路按回车直到项目创建完成。最后，运行下面命令安装web.js： 注意：&nbsp;在实际安装过程中我发现web3在安装完成后并没有&nbsp;/node_modules/web3/dist/we3.min.js&nbsp;文件，这个问题在&nbsp;issue#1041中有体现，但官方好像一直没解决。不过可以在这里下载所需的文件，解压后将dist文件夹的内容拷贝到&nbsp;/node_modules/web3路径下。 创建 UI 在项目目录下创建index.html，在这里我们将创建基础的 UI，功能包括name和age的输入框，以及一个按钮，这些将通过 jQuery 实现： 接下来需要编写main.css文件设定基本的样式： ##使用Web3与智能合约交互 UI 创建好之后，在标签中间编写web.js的代码与智能合约交互。首先创建web3实例，并与我们的测试环境连接： 这段代码是web3.js Github提供的样例，意思是如果web3已经被定义，那么就可以直接当作我们的 provider 使用。如果没有定义，则我们手动指定 provider。 这里可能会存在疑问：为什么 web3 会被事先定义呢？实际上，如果你使用类似&nbsp;MetaMask（一个 Chrome 上的插件，迷你型以太坊钱包）这样的软件，provider 就会被自动植入。 在上面代码的基础上，接下来设置默认的以太坊账户： 在上文中我们使用 Ganache 已经创建了 10 个账户了，这里我们选择第一个账户当作默认账户。 接下来需要让我们的web3知道我们的合约是什么样的，这里需要用到合约的&nbsp;ABI（Application Binary Interface）。ABI可以使我们调用合约的函数，并且从合约中获取数据。 在上文中我们已经在 Remix 中创建了我们的合约，这时重新回到 Remix，在 Compile 的 tab 下我们点击Details&nbsp;出现的页面中我们可以拷贝合约的ABI，如下图所示。 将其复制到代码中： 接下来转到 run 的tab，拷贝合约的地址，将其复制到下面的代码中： 完成这些我们就可以调用合约中的函数了，下面我们使用 jQuery 与我们的合约进行交互： 以上的代码就简单地实现了对合约中两个函数的调用，分别读取和显示name和age变量。 到此我们就完成了全部的代码，完整代码可以在&nbsp;https://github.com/gitferry/InfoContract&nbsp;中找到。在浏览器中打开index.html测试效果如下图（输入名字和年龄后刷新）。 本文的作者是盖盖，他的微信公众号: chainlab 参考文献 Interacting with a Smart Contract through Web3.js (Tutorial)) 学好区块链，拥抱新未来： 区块链产品经理（点击入驻），和圈内人士混个脸熟。 阅读更多" />
<link rel="canonical" href="http://0.0.0.0:4000/2018/05/05/Web3%E4%B8%8E%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E4%BA%A4%E4%BA%92%E5%AE%9E%E6%88%98.html" />
<meta property="og:url" content="http://0.0.0.0:4000/2018/05/05/Web3%E4%B8%8E%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E4%BA%A4%E4%BA%92%E5%AE%9E%E6%88%98.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-05-05T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"【汇新云】为大家定期更新文章，【汇新云】IT人的产业链平台 Web3与智能合约交互实战 写在前面 在最初学习以太坊的时候，很多人都是自己创建以太坊节点后，使用geth与之交互。这种使用命令行交互的方法虽然让很多程序员感到兴奋（黑客帝国的既视感？），但不可能指望普通用户通过命令行使用Dapp。因此，我们需要一种友好的方式（比如一个web页面）来与智能合约交互，于是问题的答案就是web3.js。 Web3.js Web3.js是以太坊官方的Javascript API，可以帮助智能合约开发者使用HTTP或者IPC与本地的或者远程的以太坊节点交互。实际上就是一个库的集合，主要包括下面几个库： web3-eth用来与以太坊区块链和智能合约交互 web3-shh用来控制whisper协议与p2p通信以及广播 web3-bzz用来与swarm协议交互 web3-utils包含了一些Dapp开发有用的功能 Web3与geth通信使用的是&nbsp;JSON-RPC&nbsp;，这是一种轻量级的RPC（Remote Procedure Call）协议，整个通信的模型可以抽象为下图。 搭建测试链 在开发初期，我们并没有必要使用真实的公链，为了开发效率，一般选择在本地搭建测试链。在本文我们选择的Ganache（在此之前使用的是testrpc，Ganache属于它的升级版），一个图形化测试软件（也有命令行版本），可以一键在本地搭建以太坊区块链测试环境，并且将区块链的状态通过图形界面显示出来，Ganache的运行界面如下图所示。 从图中可以看到Ganache会默认创建10个账户，监听地址是http://127.0.0.1:7545，可以实时看到Current Block、Gas Price、Gas Limit等信息。 创建智能合约 目前以太坊官方全力支持的智能合约开发环境是Remix IDE，我们在合约编辑页面编写如下代码： 代码很简单，就是简单的给name和age变量赋值与读取，接下来切换到 run 的 tab 下，将Environment切换成Web3 Provider，并输入我们的测试链的地址http://127.0.0.1:7545，这里对这三个选项做一简单说明： Javascript VM：简单的Javascript虚拟机环境，纯粹练习智能合约编写的时候可以选择 Injected Web3：连接到嵌入到页面的Web3，比如连接到MetaMask Web3 Provider：连接到自定义的节点，如私有的测试网络。 如果连接成功，那么在下面的Account的选项会默认选择 Ganache 创建的第一个账户地址。接下来我们点击Create就会将我们的智能合约部署到我们的测试网中。接下来 Remix 的页面不要关闭，在后面编写前端代码时还要用到合约的地址以及ABI信息。 安装Web3 在这之前，先在终端创建我们的项目： 接下来使用 node.js 的包管理工具 npm 初始化项目，创建package.json&nbsp;文件，其中保存了项目需要的相关依赖环境。 一路按回车直到项目创建完成。最后，运行下面命令安装web.js： 注意：&nbsp;在实际安装过程中我发现web3在安装完成后并没有&nbsp;/node_modules/web3/dist/we3.min.js&nbsp;文件，这个问题在&nbsp;issue#1041中有体现，但官方好像一直没解决。不过可以在这里下载所需的文件，解压后将dist文件夹的内容拷贝到&nbsp;/node_modules/web3路径下。 创建 UI 在项目目录下创建index.html，在这里我们将创建基础的 UI，功能包括name和age的输入框，以及一个按钮，这些将通过 jQuery 实现： 接下来需要编写main.css文件设定基本的样式： ##使用Web3与智能合约交互 UI 创建好之后，在标签中间编写web.js的代码与智能合约交互。首先创建web3实例，并与我们的测试环境连接： 这段代码是web3.js Github提供的样例，意思是如果web3已经被定义，那么就可以直接当作我们的 provider 使用。如果没有定义，则我们手动指定 provider。 这里可能会存在疑问：为什么 web3 会被事先定义呢？实际上，如果你使用类似&nbsp;MetaMask（一个 Chrome 上的插件，迷你型以太坊钱包）这样的软件，provider 就会被自动植入。 在上面代码的基础上，接下来设置默认的以太坊账户： 在上文中我们使用 Ganache 已经创建了 10 个账户了，这里我们选择第一个账户当作默认账户。 接下来需要让我们的web3知道我们的合约是什么样的，这里需要用到合约的&nbsp;ABI（Application Binary Interface）。ABI可以使我们调用合约的函数，并且从合约中获取数据。 在上文中我们已经在 Remix 中创建了我们的合约，这时重新回到 Remix，在 Compile 的 tab 下我们点击Details&nbsp;出现的页面中我们可以拷贝合约的ABI，如下图所示。 将其复制到代码中： 接下来转到 run 的tab，拷贝合约的地址，将其复制到下面的代码中： 完成这些我们就可以调用合约中的函数了，下面我们使用 jQuery 与我们的合约进行交互： 以上的代码就简单地实现了对合约中两个函数的调用，分别读取和显示name和age变量。 到此我们就完成了全部的代码，完整代码可以在&nbsp;https://github.com/gitferry/InfoContract&nbsp;中找到。在浏览器中打开index.html测试效果如下图（输入名字和年龄后刷新）。 本文的作者是盖盖，他的微信公众号: chainlab 参考文献 Interacting with a Smart Contract through Web3.js (Tutorial)) 学好区块链，拥抱新未来： 区块链产品经理（点击入驻），和圈内人士混个脸熟。 阅读更多","@type":"BlogPosting","url":"http://0.0.0.0:4000/2018/05/05/Web3%E4%B8%8E%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E4%BA%A4%E4%BA%92%E5%AE%9E%E6%88%98.html","headline":"Web3与智能合约交互实战","dateModified":"2018-05-05T00:00:00+08:00","datePublished":"2018-05-05T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/2018/05/05/Web3%E4%B8%8E%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E4%BA%A4%E4%BA%92%E5%AE%9E%E6%88%98.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>

  </head>
  <body>
    <div class="wrapper">
      <header  class="without-description" >
        <h1>Web3与智能合约交互实战</h1>
        
        
        <ul>
            <li><a href="https://blog.uzzz.org/" target="_blank"><strong>柚子社区<br/>(国际版)</strong></a></li>
            <li><a href="https://blog.uzzz.org.cn/" target="_blank"><strong>柚子社区<br/>(国内版)</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

      <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">【<a href="http://www.huixinyun.com/?r=201722j00lj1222" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">汇新云</a>】为大家定期更新文章，【<a href="http://www.huixinyun.com/?r=201722j00lj1222" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">汇新云</a>】IT人的产业链平台</p>
  <hr style="border-right-width:0px;border-bottom:0px;border-left-width:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);border-top:1px solid rgb(217,217,217);">
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">Web3与智能合约交互实战</p>
  <h1 style="color:rgba(0,0,0,.85098);line-height:1.7;font-size:26px;font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">写在前面</h1>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">在最初学习以太坊的时候，很多人都是自己创建以太坊节点后，使用geth与之交互。这种使用命令行交互的方法虽然让很多程序员感到兴奋（黑客帝国的既视感？），但不可能指望普通用户通过命令行使用Dapp。因此，我们需要一种友好的方式（比如一个web页面）来与智能合约交互，于是问题的答案就是web3.js。</p>
  <h1 style="color:rgba(0,0,0,.85098);line-height:1.7;font-size:26px;font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">Web3.js</h1>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><a href="https://web3js.readthedocs.io/en/1.0/" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">Web3.js</a>是以太坊官方的Javascript API，可以帮助智能合约开发者使用HTTP或者IPC与本地的或者远程的以太坊节点交互。实际上就是一个库的集合，主要包括下面几个库：</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">web3-eth用来与以太坊区块链和智能合约交互</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">web3-shh用来控制whisper协议与p2p通信以及广播</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">web3-bzz用来与swarm协议交互</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">web3-utils包含了一些Dapp开发有用的功能</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">Web3与geth通信使用的是&nbsp;<a href="https://github.com/ethereum/wiki/wiki/JSON-RPC" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">JSON-RPC</a>&nbsp;，这是一种轻量级的RPC（Remote Procedure Call）协议，整个通信的模型可以抽象为下图。</p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-79a45be368037243.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;min-height:200px;min-width:200px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <h1 style="color:rgba(0,0,0,.85098);line-height:1.7;font-size:26px;font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">搭建测试链</h1>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">在开发初期，我们并没有必要使用真实的公链，为了开发效率，一般选择在本地搭建测试链。在本文我们选择的<a href="http://truffleframework.com/ganache/" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">Ganache</a>（在此之前使用的是testrpc，Ganache属于它的升级版），一个图形化测试软件（也有命令行版本），可以一键在本地搭建以太坊区块链测试环境，并且将区块链的状态通过图形界面显示出来，Ganache的运行界面如下图所示。</p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-0ec68309726b7ef1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;min-height:200px;min-width:200px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">从图中可以看到Ganache会默认创建10个账户，监听地址是http://127.0.0.1:7545，可以实时看到Current Block、Gas Price、Gas Limit等信息。</p>
  <h1 style="color:rgba(0,0,0,.85098);line-height:1.7;font-size:26px;font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">创建智能合约</h1>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">目前以太坊官方全力支持的智能合约开发环境是<a href="https://remix.ethereum.org/" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">Remix IDE</a>，我们在合约编辑页面编写如下代码：</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><br></p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-fcabced441794f56.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">代码很简单，就是简单的给name和age变量赋值与读取，接下来切换到 run 的 tab 下，将Environment切换成Web3 Provider，并输入我们的测试链的地址http://127.0.0.1:7545，这里对这三个选项做一简单说明：</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">Javascript VM：简单的Javascript虚拟机环境，纯粹练习智能合约编写的时候可以选择</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">Injected Web3：连接到嵌入到页面的Web3，比如连接到MetaMask</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">Web3 Provider：连接到自定义的节点，如私有的测试网络。</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">如果连接成功，那么在下面的Account的选项会默认选择 Ganache 创建的第一个账户地址。接下来我们点击Create就会将我们的智能合约部署到我们的测试网中。接下来 Remix 的页面不要关闭，在后面编写前端代码时还要用到合约的地址以及ABI信息。</p>
  <h1 style="color:rgba(0,0,0,.85098);line-height:1.7;font-size:26px;font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">安装Web3</h1>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">在这之前，先在终端创建我们的项目：</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><br></p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-a6869c19b27d7353.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">接下来使用 node.js 的包管理工具 npm 初始化项目，创建package.json&nbsp;文件，其中保存了项目需要的相关依赖环境。</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><br></p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-6441edebca754dd0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">一路按回车直到项目创建完成。最后，运行下面命令安装web.js：</p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-2a5bf77faa61f0ab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><em>注意：</em>&nbsp;在实际安装过程中我发现web3在安装完成后并没有&nbsp;/node_modules/web3/dist/we3.min.js&nbsp;文件，这个问题在&nbsp;<a href="https://github.com/ethereum/web3.js/issues/1041" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">issue#1041</a>中有体现，但官方好像一直没解决。不过可以在这里<a href="https://codeload.github.com/ethereum/web3.js/zip/develop" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">下载</a>所需的文件，解压后将dist文件夹的内容拷贝到&nbsp;/node_modules/web3路径下。</p>
  <h1 style="color:rgba(0,0,0,.85098);line-height:1.7;font-size:26px;font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">创建 UI</h1>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">在项目目录下创建index.html，在这里我们将创建基础的 UI，功能包括name和age的输入框，以及一个按钮，这些将通过 jQuery 实现：</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><br></p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-ed8a456754e0dc82.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><br></p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><br></p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-ec34973388494985.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">接下来需要编写main.css文件设定基本的样式：</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><br></p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-978bbb6548b44d3a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">##使用Web3与智能合约交互</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">UI 创建好之后，在标签中间编写web.js的代码与智能合约交互。首先创建web3实例，并与我们的测试环境连接：</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><br></p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-11f569d7636e4258.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">这段代码是<a href="https://github.com/ethereum/web3.js/" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">web3.js Github</a>提供的样例，意思是如果web3已经被定义，那么就可以直接当作我们的 provider 使用。如果没有定义，则我们手动指定 provider。</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">这里可能会存在疑问：为什么 web3 会被事先定义呢？实际上，如果你使用类似&nbsp;<a href="https://metamask.io/" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">MetaMask</a>（一个 Chrome 上的插件，迷你型以太坊钱包）这样的软件，provider 就会被自动植入。</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">在上面代码的基础上，接下来设置默认的以太坊账户：</p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-d009cedd004a34cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">在上文中我们使用 Ganache 已经创建了 10 个账户了，这里我们选择第一个账户当作默认账户。</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">接下来需要让我们的web3知道我们的合约是什么样的，这里需要用到合约的&nbsp;<a href="https://github.com/ethereum/wiki/wiki/Ethereum-Contract-ABI" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">ABI（Application Binary Interface）</a>。ABI可以使我们调用合约的函数，并且从合约中获取数据。</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">在上文中我们已经在 Remix 中创建了我们的合约，这时重新回到 Remix，在 Compile 的 tab 下我们点击Details&nbsp;出现的页面中我们可以拷贝合约的ABI，如下图所示。</p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-528a6cd1632a008c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;min-height:200px;min-width:200px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">将其复制到代码中：</p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-33e2740347493fc5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">接下来转到 run 的tab，拷贝合约的地址，将其复制到下面的代码中：</p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-d5d8bf3e2f889a26.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">完成这些我们就可以调用合约中的函数了，下面我们使用 jQuery 与我们的合约进行交互：</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><br></p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-d8e8054971c1bfae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">以上的代码就简单地实现了对合约中两个函数的调用，分别读取和显示name和age变量。</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">到此我们就完成了全部的代码，完整代码可以在&nbsp;<a href="https://github.com/gitferry/InfoContract" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">https://github.com/gitferry/InfoContract</a>&nbsp;中找到。在浏览器中打开index.html测试效果如下图（输入名字和年龄后刷新）。</p>
  <div class="image-package" style="text-align:center;font-size:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">
   <img class="uploaded-img" src="https://upload-images.jianshu.io/upload_images/6813159-a508b11432889393.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" style="vertical-align:middle;border:0px;min-height:200px;min-width:200px;" alt="">
   <br>
   <div class="image-caption" style="min-width:20%;min-height:43px;border-bottom:1px solid rgb(217,217,217);font-size:13px;color:rgb(153,153,153);line-height:1.7;"></div>
  </div>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">本文的作者是盖盖，他的微信公众号: chainlab</p>
  <h1 style="color:rgba(0,0,0,.85098);line-height:1.7;font-size:26px;font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);">参考文献</h1>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><a href="https://coursetro.com/posts/code/99/Interacting-with-a-Smart-Contract-through-Web3.js-(Tutorial" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">Interacting with a Smart Contract through Web3.js (Tutorial)</a>)</p>
  <hr style="border-right-width:0px;border-bottom:0px;border-left-width:0px;color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);border-top:1px solid rgb(217,217,217);">
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><span style="font-weight:bolder;">学好区块链，拥抱新未来：</span></p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;background-color:rgb(255,255,255);"><a href="http://www.huixinyun.com/?r=201722j00lj1222" rel="nofollow" style="color:rgb(49,148,208);background-color:transparent;">区块链产品经理</a>（点击入驻），<span style="font-weight:bolder;">和圈内人士混个脸熟</span>。</p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qq_39353009/article/details/80206620,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/qq_39353009/article/details/80206620,&quot;}">阅读更多</a> 
</div>
      <br />
        <a href="https://blog.uzzz.org/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://blog.uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://blog.uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    
    <script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
    </script>

  </body>
</html>
